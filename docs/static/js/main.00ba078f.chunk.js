(this.webpackJsonpqr=this.webpackJsonpqr||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var c=n(11),o=n(0),i=n.n(o),a=n(18),r=n.n(a),s=(n(94),n(45)),l=(n(95),n(20)),u=n(48),j=n(127),d=n(86),f=(n(96),n(128)),b=n(126),h=n(30),p=f.a.TextArea,g=n(98),x=!1,O=0,m=0,v=0,y=0,w=0,S=0,T=0,C=0,k={},_={},E=80,M={},q=0;var F=function(){var e=Object(o.useState)("\u98ce\u6025\u5929\u9ad8\u733f\u5578\u54c0\n\u6e1a\u6e05\u6c99\u767d\u9e1f\u98de\u56de"),t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(o.useState)(!1),r=Object(s.a)(a,2),f=r[0],F=r[1],B=Object(o.useState)(""),I=Object(s.a)(B,2),z=I[0],A=I[1],D=Object(o.useState)(!1),L=Object(s.a)(D,2),N=L[0],R=L[1],J=Object(o.useState)("black"),P=Object(s.a)(J,2),U=P[0],X=P[1],Y=Object(h.a)(),V=function(){return n?n.split("\n"):[]},G=function(){var e=V();e.length>0?(F(!0),setTimeout((function(){e.forEach((function(e,t){if(e){g.toCanvas(document.getElementById("".concat(e,"_").concat(t)),e,{width:E,margin:2},(function(e){e&&console.error(e)}));var n="canvas_container_".concat(t);k[t]=document.querySelector("#".concat(n));var c="qr_text_".concat(t);_[t]=document.querySelector("#".concat(c))}}))}),500)):F(!1)},H=function(e,t){x=!0;var n=e.pageX,c=e.pageY;"img"===t?(v=n,y=c):(T=n,C=c)},K=function(e,t){if(z&&x){var n=e.pageX,c=e.pageY;if("img"===t)O+=n-v,m+=c-y,Object.keys(k).forEach((function(e){var t=k[e];t&&(t.style.left="".concat(O,"px"),t.style.top="".concat(m,"px"))})),v=n,y=c;else if("text"===t){w+=n-T,S+=c-C,Object.keys(_).forEach((function(e){var t=_[e];t&&(t.style.left="".concat(w,"px"),t.style.top="".concat(S,"px"))})),T=n,C=c}}};return Object(o.useEffect)((function(){window.addEventListener("mouseup",(function(){x=!1}))}),[]),Object(c.jsx)(l.a,{locale:d.a,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"left",children:[Object(c.jsx)(p,{placeholder:"\u8f93\u5165\u5730\u5740\uff0c\u6362\u884c\u5206\u5f00",value:n,onChange:function(e){i(e.target.value||"")},style:{height:200}}),Object(c.jsx)(u.a,{size:"large",type:"primary",onClick:G,style:{marginTop:20,alignSelf:"center"},children:"\u751f\u6210\u4e8c\u7ef4\u7801"}),f&&Object(c.jsx)("div",{style:{marginTop:40},children:Object(c.jsx)(b.a,{beforeUpload:function(e){var t=new FileReader;return e&&(t.readAsDataURL(e),t.onloadend=function(){A(t.result)}),!1},children:Object(c.jsx)(u.a,{children:"\u9009\u62e9\u80cc\u666f\u56fe"})})}),f&&Object(c.jsxs)("div",{style:{marginTop:40},children:[Object(c.jsx)("span",{children:"\u8c03\u6574\u4e8c\u7ef4\u7801\u5927\u5c0f"}),Object(c.jsx)(j.a,{min:60,max:200,defaultValue:E,onAfterChange:function(e){E=e,G()}})]}),z&&Object(c.jsxs)("div",{style:{marginTop:40},children:[Object(c.jsx)(u.a,{onClick:function(){return R(!0)},style:{width:100},children:"\u6dfb\u52a0\u6587\u5b57"}),N&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{style:{marginTop:10},children:"\u6587\u5b57\u989c\u8272"}),Object(c.jsx)("div",{style:{display:"flex"},children:["black","blue","orange","red"].map((function(e,t){return Object(c.jsx)("div",{style:{width:40,height:40,marginRight:10,marginBottom:10,backgroundColor:e,cursor:"pointer"},onClick:function(){return X(e)}},t)}))})]})]})]}),Object(c.jsx)("div",{className:"right",children:f&&V().length>0&&V().map((function(e,t){return e&&Object(c.jsxs)("div",{style:{marginBottom:40,position:"relative"},children:[z&&Object(c.jsx)("img",{src:z,style:{width:400}}),Object(c.jsx)("div",{id:"canvas_container_".concat(t),style:{zIndex:99,position:z?"absolute":"relative",top:0,left:0,cursor:"move"},onMouseDown:function(e){return H(e,"img")},onMouseMove:function(e){return K(e,"img")},children:Object(c.jsx)("canvas",{id:"".concat(e,"_").concat(t)})}),Object(c.jsx)("span",{id:"qr_text_".concat(t),style:{zIndex:99,position:"absolute",top:0,left:0,fontSize:18,whiteSpace:"pre-wrap",cursor:"move",color:U},onMouseDown:function(e){return H(e,"text")},onMouseMove:function(e){return K(e,"text")},children:M[t]||""}),N&&z&&Object(c.jsx)(p,{style:{marginTop:20,width:400,height:120},placeholder:e,onChange:function(e){return function(e,t){clearTimeout(q),q=setTimeout((function(){M[t]=e,Y()}),500)}(e.target.value,t)}})]},t)}))})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),B()},94:function(e,t,n){},95:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.00ba078f.chunk.js.map