(this.webpackJsonpqr=this.webpackJsonpqr||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t);var c=n(11),o=n(0),i=n.n(o),a=n(18),r=n.n(a),s=(n(93),n(36)),l=(n(94),n(20)),u=n(47),j=n(126),d=n(85),f=(n(95),n(127)),b=n(125),h=f.a.TextArea,p=n(97),g=!1,O=0,x=0,v=0,m=0,y=0,w=0,S=0,T=0,C={},k={},_=80,E=0;var M=function(){var e=Object(o.useState)("\u98ce\u6025\u5929\u9ad8\u733f\u5578\u54c0\n\u6e1a\u6e05\u6c99\u767d\u9e1f\u98de\u56de"),t=Object(s.a)(e,2),n=t[0],i=t[1],a=Object(o.useState)(!1),r=Object(s.a)(a,2),f=r[0],M=r[1],q=Object(o.useState)(""),F=Object(s.a)(q,2),B=F[0],I=F[1],z=Object(o.useState)(!1),A=Object(s.a)(z,2),D=A[0],L=A[1],N=Object(o.useState)("black"),R=Object(s.a)(N,2),J=R[0],P=R[1],U=Object(o.useState)(""),X=Object(s.a)(U,2),Y=X[0],V=X[1],G=function(){return n?n.split("\n"):[]},H=function(){var e=G();e.length>0?(M(!0),setTimeout((function(){e.forEach((function(e,t){if(e){p.toCanvas(document.getElementById("".concat(e,"_").concat(t)),e,{width:_,margin:2},(function(e){e&&console.error(e)}));var n="canvas_container_".concat(t);C[t]=document.querySelector("#".concat(n));var c="qr_text_".concat(t);k[t]=document.querySelector("#".concat(c))}}))}),500)):M(!1)},K=function(e,t){g=!0;var n=e.pageX,c=e.pageY;"img"===t?(v=n,m=c):(S=n,T=c)},Q=function(e,t){if(B&&g){var n=e.pageX,c=e.pageY;if("img"===t)O+=n-v,x+=c-m,Object.keys(C).forEach((function(e){var t=C[e];t&&(t.style.left="".concat(O,"px"),t.style.top="".concat(x,"px"))})),v=n,m=c;else if("text"===t){y+=n-S,w+=c-T,Object.keys(k).forEach((function(e){var t=k[e];t&&(t.style.left="".concat(y,"px"),t.style.top="".concat(w,"px"))})),S=n,T=c}}};Object(o.useEffect)((function(){window.addEventListener("mouseup",(function(){g=!1}))}),[]);var W=function(e){return e?e.split("\n"):[]}(Y);return Object(c.jsx)(l.a,{locale:d.a,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"left",children:[Object(c.jsx)(h,{placeholder:"\u8f93\u5165\u5730\u5740\uff0c\u6362\u884c\u5206\u5f00",value:n,onChange:function(e){i(e.target.value||"")},style:{height:200}}),Object(c.jsx)(u.a,{size:"large",type:"primary",onClick:H,style:{marginTop:20,alignSelf:"center"},children:"\u751f\u6210\u4e8c\u7ef4\u7801"}),f&&Object(c.jsx)("div",{style:{marginTop:40},children:Object(c.jsx)(b.a,{beforeUpload:function(e){var t=new FileReader;return e&&(t.readAsDataURL(e),t.onloadend=function(){I(t.result)}),!1},children:Object(c.jsx)(u.a,{children:"\u9009\u62e9\u80cc\u666f\u56fe"})})}),f&&Object(c.jsxs)("div",{style:{marginTop:40},children:[Object(c.jsx)("span",{children:"\u8c03\u6574\u4e8c\u7ef4\u7801\u5927\u5c0f"}),Object(c.jsx)(j.a,{min:60,max:1e3,defaultValue:_,onAfterChange:function(e){_=e,H()}})]}),B&&Object(c.jsxs)("div",{style:{marginTop:40},children:[!D&&Object(c.jsx)(u.a,{onClick:function(){return L(!0)},style:{width:100},children:"\u6dfb\u52a0\u6587\u5b57"}),D&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h,{style:{marginTop:10,width:400,height:120},placeholder:n,onChange:function(e){return t=e.target.value,clearTimeout(E),void(E=setTimeout((function(){V(t)}),500));var t}}),Object(c.jsx)("p",{style:{marginTop:10},children:"\u6587\u5b57\u989c\u8272"}),Object(c.jsx)("div",{style:{display:"flex"},children:["black","blue","orange","red"].map((function(e,t){return Object(c.jsx)("div",{style:{width:40,height:40,marginRight:10,marginBottom:10,backgroundColor:e,cursor:"pointer"},onClick:function(){return P(e)}},t)}))})]})]})]}),Object(c.jsx)("div",{className:"right",children:f&&G().length>0&&G().map((function(e,t){return e&&Object(c.jsxs)("div",{style:{marginBottom:40,position:"relative"},children:[B&&Object(c.jsx)("img",{src:B,style:{width:400}}),Object(c.jsx)("div",{id:"canvas_container_".concat(t),style:{zIndex:99,position:B?"absolute":"relative",top:0,left:0,cursor:"move"},onMouseDown:function(e){return K(e,"img")},onMouseMove:function(e){return Q(e,"img")},children:Object(c.jsx)("canvas",{id:"".concat(e,"_").concat(t)})}),Object(c.jsx)("span",{id:"qr_text_".concat(t),style:{zIndex:99,position:"absolute",top:0,left:0,fontSize:18,whiteSpace:"pre-wrap",cursor:"move",color:J},onMouseDown:function(e){return K(e,"text")},onMouseMove:function(e){return Q(e,"text")},children:W[t]||""})]},t)}))})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(M,{})}),document.getElementById("root")),q()},93:function(e,t,n){},94:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.50e0aca9.chunk.js.map